---
published: true
date: '2025-08-6 10:21 +0200'
title: SONiC Certificates Deployment Automation
author: Alexei Kiritchenko
excerpt: Self Signed Certificate for SONiC gNMI
tags:
  - cisco
  - sonic
  - gnmi
position: hidden
---

{% include toc %}

## Ansible

Ansible to be used in the lab for small automation tasks. Certificates deployment automation is explored in this section.

we keep ansible related playbook in ansible folder

```
mkdir ansible
cd ansible
```

Inventory file is `inventories/hosts.yaml`

```
mkdir inventories
touch hosts.yaml
```

Here you can find `hosts.yaml` example used for the lab: 

Playbook file is `playbooks/tls_deployment.yaml'

```
mkdir playbooks
touch tls_deployment.yaml 
```

## TLS certificates deployment

We assume the environment is save and we can securely transfer keys over the network. With this playbook all the certificates for the nodes will be generated by the server and next copied to the SONiC devices:

tls_deployment.yaml ansible playbook runs the following tasks:

- Generates RootCA
- Generates keys and CSR for SONiC hosts
- Sign CSR with RootCA
- copy certificates to SONiC nodes
- restart gnmi contaner

Here you can find `tls_deployment.yaml` playbook used for the lab: 






